<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view title="{{friend.name}}">
  <ion-content has-header="true" padding="true">
    
    <ion-list>
        <ion-item class="item item-avatar" ng-repeat="message in messages track by $index" 
                  item="message"
                  >
          <img src="{{senderPicture(message)}}"/>
           {{ message.content }}
        </ion-item>
      </ion-list>

      
    <ion-infinite-scroll
      on-infinite="loadMore()"
      icon="ion-loading-c"
      distance="1%">
      
  </ion-infinite-scroll>
  
</ion-content>
  
  <ion-footer-bar>
        <div class="button-bar">
          <div class="row">
            <div class="col col-90">
                <label class="item-input-wrapper">
                  <input type="text" ng-model="mess_box" name="message_input" placeholder="メッセージ">
              </label>
            </div>
            <div class="col col-20">
              <button class="button" ng-click="sendMessage()">
                  送信
              </button>
            </div>
          </div>
        </div>
      </ion-footer-bar>
  
</ion-view>
